<?phpclass Databases_Tables_Admin extends Zend_Db_Table{    protected $_name = 'admin';    var $admin_wechat_openid;    var $session_val;        function IsValid()    {    	$result = array();    	    	if($this->admin_wechat_openid)    	{    		$row = $this->fetchRow("admin_wechat_openid='".$this->admin_wechat_openid."' and admin_status=1");    		    		if(!empty($row))    		{    			$result = $row->toArray();    		}    	}    	    	return $result;    }        function GenerateSession()    {    	if($this->admin_wechat_openid)    	{    		$a = date("mYd");    		$b = $this->admin_wechat_openid;    		$c = date("isH");    		    		$result = sha1($a.$b.$c);    	}else{    		$result = "";    	}    	    	return $result;    }        function CheckSessionValidation()    {    	$result = FALSE;    	    	if($this->admin_wechat_openid && $this->session_val)    	{    		$a = date("mYd");    		$b = $this->admin_wechat_openid;    		$c = date("isH");    		    		$target_session = sha1($a.$b.$c);    		    		if($target_session === $this->session_val)    		{    			$result = TRUE;    		}    	}    	    	return $result;    }}